extends ../common/layout

block script

mixin board_list(boards, level)
    if (boards)
      if (level == 0)
        if(Object.keys(boards).length!=1)
          each board, id in boards
            .ui.segment.attached.top.blue
              a.header(href='/board/' + board.shortcut)= board.name
              .text
                = board.description? board.description: '暂无介绍'
            +board_list(board.children, level + 1)
        else
          each board, id in boards
            .ui.segment.blue
              a.header(href='/board/' + board.shortcut)= board.name
              .text
                = board.description? board.description: '暂无介绍'
            +board_list(board.children, level + 1)
      else
        if(Object.keys(boards).length!=0)
          .ui.segment.attached
            +board_list(boards, level - 1)

block bodyheader
  //include ../user/user-bar
  include ../common/banner

block content
  div(id=active)
    if (boards)
      .ui.segment
        +board_list(boards, 0)

    else
      .ui.icon.message
        i.icon.exclamation
        .content
          .header= lang.info.tips
          p= lang.board.boards_not_found
